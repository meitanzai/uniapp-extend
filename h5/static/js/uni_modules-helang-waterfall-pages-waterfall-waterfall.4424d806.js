(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["uni_modules-helang-waterfall-pages-waterfall-waterfall"],{"0013":function(t,e,a){"use strict";var n=a("4ea4");a("caad"),a("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("2909")),r=n(a("5530")),s=n(a("2977")),o={name:"helangWaterfallList",options:{virtualHost:!0},components:{"helang-waterfall-item":s.default},props:{status:{type:String,default:""},list:{type:Array,default:function(){return[]}},reset:{type:Boolean,default:!1}},watch:{"$props.status":function(t,e){"success"==t?this.startRender():this.showList||this.resetData()}},computed:{showList:function(){return!["fail","empty"].includes(this.$props.status)}},data:function(){return{leftHeight:0,rightHeight:0,leftList:[],rightList:[],awaitRenderList:[],showPage:1}},mounted:function(){"success"==this.$props.status&&this.startRender()},methods:{onHeight:function(t,e){var a=uni.upx2px(20);"left"==e?this.leftHeight+=t+a:this.rightHeight+=t+a,this.renderList()},onClick:function(t,e){"left"==e?this.$emit("click",this.leftList[t],t,e):this.$emit("click",this.rightList[t],t,e)},renderList:function(){if(this.awaitRenderList.length<1)return this.showPage++,this.$emit("done"),void(this.leftHeight>1e8&&(this.leftHeight>this.rightHeight?(this.leftHeight=2,this.rightHeight=1):(this.leftHeight=1,this.rightHeight=2)));var t=(0,r.default)((0,r.default)({},this.awaitRenderList.splice(0,1)[0]),{},{_current_page:this.showPage,_render_id:(new Date).getTime()});this.leftHeight>this.rightHeight?this.rightList.push(t):this.leftList.push(t)},resetData:function(){this.leftHeight=0,this.rightHeight=0,this.leftList=[],this.rightList=[],this.awaitRenderList=[],this.showPage=1},startRender:function(){this.showList?!this.$props.list||this.$props.list.length<1?console.log("河浪瀑布流插件提示：当前数据为空，不会触发列表渲染"):(this.$props.reset&&this.resetData(),this.awaitRenderList=(0,i.default)(this.$props.list),this.renderList()):this.resetData()}}};e.default=o},2909:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=o(a("6005")),i=o(a("db90")),r=o(a("06c5")),s=o(a("3427"));function o(t){return t&&t.__esModule?t:{default:t}}function l(t){return(0,n.default)(t)||(0,i.default)(t)||(0,r.default)(t)||(0,s.default)()}},2977:function(t,e,a){"use strict";a.r(e);var n=a("67bf"),i=a("e8e6");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("34d0");var s,o=a("f0c5"),l=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"dcc998bc",null,!1,n["a"],s);e["default"]=l.exports},3427:function(t,e,a){"use strict";function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"34d0":function(t,e,a){"use strict";var n=a("e4d1"),i=a.n(n);i.a},"42cd":function(t,e,a){"use strict";a("99af"),a("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){return new Promise((function(t,e){setTimeout((function(){for(var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return Math.floor(Math.random()*e)+t},a=["桃花坞里桃花庵，桃花庵里桃花仙；","桃花仙人种桃树，又摘桃花卖酒钱。","酒醒只在花前坐，酒醉还来花下眠；半醒半醉日复日，花落花开年复年。","但愿老死花酒间，不愿鞠躬车马前；","车尘马足富者趣，酒盏花枝贫者缘。若将富贵比贫贱，","一在平地一在天；若将贫贱比车马，他得驱驰我得闲。","别人笑我太疯癫，我笑他人看不穿；不见五陵豪杰墓，无花无酒锄作田。"],n=[],i=0;i<10;i++)n.push({id:i+1,url:"/uni_modules/helang-waterfall/static/waterfall/".concat(e(0,3),".jpg?t=").concat((new Date).getTime()),title:a[e(0,a.length)],money:e(9,9999),label:"官方自营",shop:"唐诗三百首旗舰店"});t(n)}),500)}))},i={getList:n};e.default=i},"4aab":function(t,e,a){var n=a("4c7f");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("aec2e712",n,!0,{sourceMap:!1,shadowMode:!1})},"4c7f":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-0102b178]{background-color:#f3f3f3}.load-txt[data-v-0102b178]{padding:0 0 %?20?% 0;text-align:center;color:#999;font-size:%?24?%}.load-icon[data-v-0102b178]{width:%?300?%;height:%?300?%;margin:0 auto %?20?% auto;display:block}.status-change[data-v-0102b178]{position:fixed;right:%?10?%;top:60%;width:%?80?%;height:%?80?%;z-index:100;font-size:%?24?%;border-radius:50%;background-color:#0089ff;color:#fff;line-height:1;opacity:.33;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center;align-content:center}body.?%PAGE?%[data-v-0102b178]{background-color:#f3f3f3}',""]),t.exports=e},6005:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=i(a("6b75"));function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t))return(0,n.default)(t)}},"67bf":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"waterfall-item-container"},[a("v-uni-view",{staticClass:"waterfall-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:t.params.url,mode:"widthFix"},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.emitHeight.apply(void 0,arguments)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.emitHeight.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",[t._v(t._s(t.params.title))]),a("v-uni-view",{staticClass:"money"},[t._v(t._s(t.params.money)+"元")]),a("v-uni-view",{staticStyle:{margin:"0 0 8rpx 0"}},[a("v-uni-text",{staticClass:"label"},[t._v(t._s(t.params.label))])],1),a("v-uni-view",{staticClass:"shop-name"},[t._v(t._s(t.params.shop))])],1)],1)],1)},r=[]},"6d29":function(t,e,a){"use strict";var n=a("4ea4");a("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("2909")),r=n(a("dc5d")),s=n(a("42cd")),o={components:{"helang-waterfall-list":r.default},data:function(){return{ajax:{load:!0,rows:10,page:1,dataList:[]},waterfall:{status:"",reset:!1,list:[]}}},onReady:function(){this.getList()},onReachBottom:function(){this.getList()},onPullDownRefresh:function(){var t=this;setTimeout((function(){t.ajax.page=1,t.ajax.load=!0,t.getList()}),800)},methods:{onClick:function(t,e,a){console.log(t);var n={left:"左",right:"右"};uni.showToast({title:"".concat(n[a],"侧列表第").concat(e+1,"个被点击"),icon:"none"})},onDone:function(){this.waterfall.reset=!1,this.ajax.load=!0,this.ajax.page++,this.waterfall.status="await"},getList:function(){var t=this;this.ajax.load&&(this.ajax.load=!1,this.waterfall.status="loading",s.default.getList({pageNum:this.ajax.page,pageSize:this.ajax.rows}).then((function(e){console.log(e),1==t.ajax.page&&(uni.stopPullDownRefresh(),t.waterfall.reset=!0),!e||e.length<1?t.waterfall.status="finish":(t.waterfall.list=e,t.waterfall.status="success",1==t.ajax.page?t.ajax.dataList=e:t.ajax.dataList=[].concat((0,i.default)(t.ajax.dataList),(0,i.default)(e)),t.ajax.dataCount=e.length||0)})))},onStatusChange:function(){var t=this;uni.showActionSheet({itemList:["常规","加载异常","加载错误"],success:function(e){switch(e.tapIndex){case 0:t.ajax.page=1,t.ajax.load=!0,t.getList();break;case 1:t.waterfall.status="fail";break;case 2:t.waterfall.status="empty";break;default:}}})}}};e.default=o},"7e8d":function(t,e,a){var n=a("b77d");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("08c7cce2",n,!0,{sourceMap:!1,shadowMode:!1})},"80c1":function(t,e,a){"use strict";var n=a("7e8d"),i=a.n(n);i.a},"9d54":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.waterfall-item[data-v-dcc998bc]{padding:%?16?%;background-color:#fff;border-radius:4px;font-size:%?28?%;color:#666}.waterfall-item uni-image[data-v-dcc998bc]{display:block;width:100%;height:%?350?%}.waterfall-item .content[data-v-dcc998bc]{margin-top:%?16?%}.waterfall-item .content .money[data-v-dcc998bc]{color:#fa3534;margin-top:%?8?%}.waterfall-item .content .label[data-v-dcc998bc]{background-color:#fa3534;color:#fff;font-size:%?20?%;padding:%?4?% %?16?%;border-radius:%?20?%}.waterfall-item .content .shop-name[data-v-dcc998bc]{font-size:%?20?%;color:#999}',""]),t.exports=e},a069:function(t,e,a){"use strict";a.r(e);var n=a("c1c9"),i=a("ed98");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("d266");var s,o=a("f0c5"),l=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"0102b178",null,!1,n["a"],s);e["default"]=l.exports},a8fd:function(t,e,a){t.exports=a.p+"static/img/fail.4a274479.png"},ac93:function(t,e,a){"use strict";a.r(e);var n=a("0013"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},b53c:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[t.showList?a("v-uni-view",{staticClass:"waterfall-box h-flex-x h-flex-2"},[a("v-uni-view",t._l(t.leftList,(function(e,n){return a("v-uni-view",{key:e._render_id,staticClass:"list-item",class:{show:t.showPage>e._current_page}},[a("helang-waterfall-item",{attrs:{params:e,tag:"left",index:n},on:{height:function(e){arguments[0]=e=t.$handleEvent(e),t.onHeight.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}})],1)})),1),a("v-uni-view",t._l(t.rightList,(function(e,n){return a("v-uni-view",{key:e._render_id,staticClass:"list-item",class:{show:t.showPage>e._current_page}},[a("helang-waterfall-item",{attrs:{params:e,tag:"right",index:n},on:{height:function(e){arguments[0]=e=t.$handleEvent(e),t.onHeight.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}})],1)})),1)],1):t._e(),t._t("default")],2)},r=[]},b77d:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.waterfall-box[data-v-15c3e6ca]{padding:%?20?% %?10?%;box-sizing:border-box}.waterfall-box > uni-view[data-v-15c3e6ca]{padding:0 %?10?%}.waterfall-box .list-item[data-v-15c3e6ca]{margin-bottom:0;opacity:0;overflow:hidden;height:0}.waterfall-box .list-item.show[data-v-15c3e6ca]{margin-bottom:%?20?%;opacity:1;overflow:auto;height:auto}.h-flex-x[data-v-15c3e6ca]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;align-items:flex-start;align-content:flex-start}.h-flex-x.h-flex-2 > uni-view[data-v-15c3e6ca]{width:50%}',""]),t.exports=e},c1c9:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("helang-waterfall-list",{attrs:{status:t.waterfall.status,list:t.waterfall.list,reset:t.waterfall.reset},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)},done:function(e){arguments[0]=e=t.$handleEvent(e),t.onDone.apply(void 0,arguments)}}},[["await"==t.waterfall.status?n("v-uni-view",[n("v-uni-view",{staticClass:"load-txt"},[t._v("上拉加载更多")])],1):"loading"==t.waterfall.status||"success"==t.waterfall.status?n("v-uni-view",[n("v-uni-view",{staticClass:"load-txt"},[t._v("加载中")])],1):"finish"==t.waterfall.status?n("v-uni-view",[n("v-uni-view",{staticClass:"load-txt"},[t._v("没有更多了")])],1):"fail"==t.waterfall.status?n("v-uni-view",[n("v-uni-image",{staticClass:"load-icon",attrs:{src:a("a8fd")}}),n("v-uni-view",{staticClass:"load-txt"},[t._v("出错了，请刷新重试")])],1):"empty"==t.waterfall.status?n("v-uni-view",[n("v-uni-image",{staticClass:"load-icon",attrs:{src:a("c55b")}}),n("v-uni-view",{staticClass:"load-txt"},[t._v("暂无数据")])],1):n("v-uni-view")]],2),n("v-uni-view",{staticClass:"status-change",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onStatusChange.apply(void 0,arguments)}}},[n("v-uni-view",[t._v("切换"),n("br"),t._v("状态")])],1)],1)},r=[]},c55b:function(t,e,a){t.exports=a.p+"static/img/empty.a97ed149.png"},d266:function(t,e,a){"use strict";var n=a("4aab"),i=a.n(n);i.a},db90:function(t,e,a){"use strict";function n(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},dc5d:function(t,e,a){"use strict";a.r(e);var n=a("b53c"),i=a("ac93");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("80c1");var s,o=a("f0c5"),l=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"15c3e6ca",null,!1,n["a"],s);e["default"]=l.exports},e4a3:function(t,e,a){"use strict";a("a9e3"),a("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"helangWaterfallItem",options:{virtualHost:!0},props:{params:{type:Object,default:function(){return{}}},tag:{type:String|Number,default:""},index:{type:Number,default:-1}},data:function(){return{}},methods:{emitHeight:function(t){var e=this,a=uni.createSelectorQuery().in(this);a.select(".waterfall-item-container").boundingClientRect((function(t){var a=Math.floor(t.height);e.$emit("height",a,e.$props.tag)})).exec()},onTap:function(){this.$emit("click",this.$props.index,this.$props.tag)}}};e.default=n},e4d1:function(t,e,a){var n=a("9d54");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("55b6ab72",n,!0,{sourceMap:!1,shadowMode:!1})},e8e6:function(t,e,a){"use strict";a.r(e);var n=a("e4a3"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},ed98:function(t,e,a){"use strict";a.r(e);var n=a("6d29"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a}}]);