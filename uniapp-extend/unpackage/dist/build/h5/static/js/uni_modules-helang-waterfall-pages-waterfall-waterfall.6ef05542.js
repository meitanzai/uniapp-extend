(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["uni_modules-helang-waterfall-pages-waterfall-waterfall"],{"0013":function(t,e,a){"use strict";var n=a("4ea4");a("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("5530")),r=n(a("2909")),s=n(a("2977")),o={components:{"helang-waterfall-item":s.default},props:{status:{type:String,default:""},awaitText:{type:String,default:"上拉加载更多"},loadingText:{type:String,default:"加载中"},successText:{type:String,default:"加载中"},finishText:{type:String,default:"没有更多了"},failText:{type:String,default:"加载失败"},list:{type:Array,default:function(){return[]}},reset:{type:Boolean,default:!1}},watch:{"$props.status":function(t,e){if("success"==t){if(!this.$props.list||this.$props.list.length<1)return void console.error("河浪瀑布流插件提示：当前数据无效");this.$props.reset&&(this.leftHeight=0,this.rightHeight=0,this.leftList=[],this.rightList=[],this.awaitRenderList=[],this.showPage=1),this.awaitRenderList=(0,r.default)(this.$props.list),this.renderList()}}},computed:{statusText:function(){if(!this.$props.status)return!1;var t="".concat(this.$props.status,"Text");return this.$props[t]||!1}},data:function(){return{leftHeight:0,rightHeight:0,leftList:[],rightList:[],awaitRenderList:[],showPage:1}},methods:{onHeight:function(t,e){var a=uni.upx2px(20);"left"==e?this.leftHeight+=t+a:this.rightHeight+=t+a,this.renderList()},onClick:function(t,e){"left"==e?this.$emit("click",this.leftList[t],t,e):this.$emit("click",this.rightList[t],t,e)},renderList:function(){if(this.awaitRenderList.length<1)return this.showPage++,this.$emit("done"),void(this.leftHeight>1e8&&(this.leftHeight>this.rightHeight?(this.leftHeight=2,this.rightHeight=1):(this.leftHeight=1,this.rightHeight=2)));var t=(0,i.default)((0,i.default)({},this.awaitRenderList.splice(0,1)[0]),{},{_current_page:this.showPage,_render_id:(new Date).getTime()});this.leftHeight>this.rightHeight?this.rightList.push(t):this.leftList.push(t)}}};e.default=o},"02b5":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.waterfall-box[data-v-79303150]{padding:%?20?% %?10?%;box-sizing:border-box}.waterfall-box > uni-view[data-v-79303150]{padding:0 %?10?%}.waterfall-box .list-item[data-v-79303150]{margin-bottom:0;opacity:0;overflow:hidden;height:0}.waterfall-box .list-item.show[data-v-79303150]{margin-bottom:%?20?%;opacity:1;overflow:auto;height:auto}.h-flex-x[data-v-79303150]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;align-items:flex-start;align-content:flex-start}.h-flex-x.h-flex-2 > uni-view[data-v-79303150]{width:50%}.load-txt[data-v-79303150]{padding:0 0 %?20?% 0;text-align:center;color:#999;font-size:%?24?%}',""]),t.exports=e},"0684":function(t,e,a){"use strict";var n=a("8f66"),i=a.n(n);i.a},1335:function(t,e,a){var n=a("02b5");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("68abba9a",n,!0,{sourceMap:!1,shadowMode:!1})},"20ad":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"waterfall-box h-flex-x h-flex-2"},[a("v-uni-view",t._l(t.leftList,(function(e,n){return a("v-uni-view",{key:e._render_id,staticClass:"list-item",class:{show:t.showPage>e._current_page}},[a("helang-waterfall-item",{attrs:{params:e,tag:"left",index:n},on:{height:function(e){arguments[0]=e=t.$handleEvent(e),t.onHeight.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}})],1)})),1),a("v-uni-view",t._l(t.rightList,(function(e,n){return a("v-uni-view",{key:e._render_id,staticClass:"list-item",class:{show:t.showPage>e._current_page}},[a("helang-waterfall-item",{attrs:{params:e,tag:"right",index:n},on:{height:function(e){arguments[0]=e=t.$handleEvent(e),t.onHeight.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}})],1)})),1)],1),t.statusText?a("v-uni-view",{staticClass:"load-txt"},[t._v(t._s(t.statusText))]):t._e()],1)},r=[]},2909:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=o(a("6005")),i=o(a("db90")),r=o(a("06c5")),s=o(a("3427"));function o(t){return t&&t.__esModule?t:{default:t}}function l(t){return(0,n.default)(t)||(0,i.default)(t)||(0,r.default)(t)||(0,s.default)()}},2977:function(t,e,a){"use strict";a.r(e);var n=a("9668"),i=a("e8e6");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("97fe");var s,o=a("f0c5"),l=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"15d1b088",null,!1,n["a"],s);e["default"]=l.exports},3427:function(t,e,a){"use strict";function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"42cd":function(t,e,a){"use strict";a("99af"),a("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){return new Promise((function(t,e){setTimeout((function(){for(var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return Math.floor(Math.random()*e)+t},a=["桃花坞里桃花庵，桃花庵里桃花仙；","桃花仙人种桃树，又摘桃花卖酒钱。","酒醒只在花前坐，酒醉还来花下眠；半醒半醉日复日，花落花开年复年。","但愿老死花酒间，不愿鞠躬车马前；","车尘马足富者趣，酒盏花枝贫者缘。若将富贵比贫贱，","一在平地一在天；若将贫贱比车马，他得驱驰我得闲。","别人笑我太疯癫，我笑他人看不穿；不见五陵豪杰墓，无花无酒锄作田。"],n=[],i=0;i<10;i++)n.push({id:i+1,url:"/uni_modules/helang-waterfall/static/waterfall/".concat(e(0,3),".jpg?t=").concat((new Date).getTime()),title:a[e(0,a.length)],money:e(9,9999),label:"官方自营",shop:"唐诗三百首旗舰店"});t(n)}),500)}))},i={getList:n};e.default=i},5462:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.waterfall-item[data-v-15d1b088]{padding:%?16?%;background-color:#fff;border-radius:4px;font-size:%?28?%;color:#666}.waterfall-item uni-image[data-v-15d1b088]{display:block;width:100%;height:%?350?%}.waterfall-item .content[data-v-15d1b088]{margin-top:%?16?%}.waterfall-item .content .money[data-v-15d1b088]{color:#fa3534;margin-top:%?8?%}.waterfall-item .content .label[data-v-15d1b088]{background-color:#fa3534;color:#fff;font-size:%?20?%;padding:%?4?% %?16?%;border-radius:%?20?%}.waterfall-item .content .shop-name[data-v-15d1b088]{font-size:%?20?%;color:#999}',""]),t.exports=e},6005:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=i(a("6b75"));function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t))return(0,n.default)(t)}},"6d29":function(t,e,a){"use strict";var n=a("4ea4");a("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("2909")),r=n(a("dc5d")),s=n(a("42cd")),o={components:{"helang-waterfall-list":r.default},data:function(){return{ajax:{load:!0,rows:10,page:1,dataList:[]},waterfall:{status:"",reset:!1,list:[]}}},onReady:function(){this.getList()},onReachBottom:function(){this.getList()},onPullDownRefresh:function(){var t=this;setTimeout((function(){t.ajax.page=1,t.ajax.load=!0,t.getList()}),800)},methods:{onClick:function(t,e,a){console.log(t);var n={left:"左",right:"右"};uni.showToast({title:"".concat(n[a],"侧列表第").concat(e+1,"个被点击"),icon:"none"})},onDone:function(){this.waterfall.reset=!1,this.ajax.load=!0,this.ajax.page++,this.waterfall.status="await"},getList:function(){var t=this;this.ajax.load&&(this.ajax.load=!1,this.waterfall.status="loading",s.default.getList({pageNum:this.ajax.page,pageSize:this.ajax.rows}).then((function(e){console.log(e),1==t.ajax.page&&(uni.stopPullDownRefresh(),t.waterfall.reset=!0),!e||e.length<1?t.waterfall.status="finish":(t.waterfall.list=e,t.waterfall.status="success",1==t.ajax.page?t.ajax.dataList=e:t.ajax.dataList=[].concat((0,i.default)(t.ajax.dataList),(0,i.default)(e)),t.ajax.dataCount=e.length||0)})))}}};e.default=o},"8f66":function(t,e,a){var n=a("e0ac");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("259f2478",n,!0,{sourceMap:!1,shadowMode:!1})},9668:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"waterfall-item-container"},[a("v-uni-view",{staticClass:"waterfall-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:t.params.url,mode:"widthFix"},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.emitHeight.apply(void 0,arguments)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.emitHeight.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",[t._v(t._s(t.params.title))]),a("v-uni-view",{staticClass:"money"},[t._v(t._s(t.params.money)+"元")]),a("v-uni-view",{staticStyle:{margin:"0 0 8rpx 0"}},[a("v-uni-text",{staticClass:"label"},[t._v(t._s(t.params.label))])],1),a("v-uni-view",{staticClass:"shop-name"},[t._v(t._s(t.params.shop))])],1)],1)],1)},r=[]},"97fe":function(t,e,a){"use strict";var n=a("c97d"),i=a.n(n);i.a},"9c4b":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("helang-waterfall-list",{attrs:{status:t.waterfall.status,list:t.waterfall.list,reset:t.waterfall.reset},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)},done:function(e){arguments[0]=e=t.$handleEvent(e),t.onDone.apply(void 0,arguments)}}})],1)},r=[]},a069:function(t,e,a){"use strict";a.r(e);var n=a("9c4b"),i=a("ed98");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("0684");var s,o=a("f0c5"),l=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"d5161a00",null,!1,n["a"],s);e["default"]=l.exports},ac93:function(t,e,a){"use strict";a.r(e);var n=a("0013"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},aeb9:function(t,e,a){"use strict";var n=a("1335"),i=a.n(n);i.a},c97d:function(t,e,a){var n=a("5462");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("11f098c6",n,!0,{sourceMap:!1,shadowMode:!1})},db90:function(t,e,a){"use strict";function n(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},dc5d:function(t,e,a){"use strict";a.r(e);var n=a("20ad"),i=a("ac93");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("aeb9");var s,o=a("f0c5"),l=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"79303150",null,!1,n["a"],s);e["default"]=l.exports},e0ac:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-d5161a00]{background-color:#f3f3f3}body.?%PAGE?%[data-v-d5161a00]{background-color:#f3f3f3}',""]),t.exports=e},e4a3:function(t,e,a){"use strict";a("a9e3"),a("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"helang-waterfall",props:{params:{type:Object,default:function(){return{}}},tag:{type:String|Number,default:""},index:{type:Number,default:-1}},data:function(){return{}},methods:{emitHeight:function(t){var e=this,a=uni.createSelectorQuery().in(this);a.select(".waterfall-item-container").boundingClientRect((function(t){var a=Math.floor(t.height);e.$emit("height",a,e.$props.tag)})).exec()},onTap:function(){this.$emit("click",this.$props.index,this.$props.tag)}}};e.default=n},e8e6:function(t,e,a){"use strict";a.r(e);var n=a("e4a3"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},ed98:function(t,e,a){"use strict";a.r(e);var n=a("6d29"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a}}]);